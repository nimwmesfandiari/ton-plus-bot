<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ton Plus | Mining</title>

<style>
    body {
        margin:0;
        padding:0;
        font-family:sans-serif;
        background: linear-gradient(180deg,#0a0a0a,#111111);
        color:white;
        overflow-x:hidden;
    }
    .container { max-width:420px; margin:0 auto; padding:16px;}
    .glass-card {
        background: rgba(20,20,25,0.7);
        backdrop-filter: blur(12px);
        border-radius:16px;
        padding:16px;
        margin-bottom:16px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    h1,h2,h3 { margin:0;}
    button { cursor:pointer; }
    .nav { position:fixed; bottom:16px; left:50%; transform:translateX(-50%); width:95%; max-width:400px; background: rgba(20,20,25,0.8); backdrop-filter: blur(16px); border-radius:24px; display:flex; justify-content:space-around; padding:10px 0; box-shadow:0 10px 40px rgba(0,0,0,0.7);}
    .nav button { background:none; border:none; color:#aaa; display:flex; flex-direction:column; align-items:center; gap:2px; font-size:12px; transition:0.2s;}
    .nav button.active { color:#00bcd4;}
    #mineBtn {
        background: linear-gradient(90deg,#00bcd4,#0098ea);
        color:#fff;
        padding:16px 24px;
        font-size:18px;
        border:none;
        border-radius:12px;
        margin-top:16px;
        width:100%;
        transition:0.1s;
    }
    #mineBtn:active { transform:scale(0.96);}
    .hidden { display:none;}
    .balance-num { font-family: monospace; font-size:1.8em; color:#00bcd4; transition:0.1s;}
</style>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
<div class="container">

    <!-- ØµÙØ­Ù‡ Home -->
    <div id="page-home" class="page">
        <div class="glass-card text-center">
            <h1>ğŸš€ Ton Plus</h1>
            <h2>Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ø´Ù…Ø§</h2>
            <div id="balance" class="balance-num">0.000000 TON</div>
            <button id="mineBtn">â› Mine</button>
            <p class="mt-2 text-gray">Ù‚Ø¯Ø±Øª Ø§Ø³ØªØ®Ø±Ø§Ø¬: <span id="minerPower">2.0 GH/s</span></p>
        </div>
    </div>

    <!-- ØµÙØ­Ù‡ Wallet -->
    <div id="page-wallet" class="page hidden">
        <div class="glass-card">
            <h2>Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§</h2>
            <div id="walletBalance" class="balance-num">0.000000 TON</div>
        </div>
    </div>

    <!-- ØµÙØ­Ù‡ Friends -->
    <div id="page-friends" class="page hidden">
        <div class="glass-card">
            <h2>Ø±ÙØ±Ø§Ù„â€ŒÙ‡Ø§</h2>
            <p>ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø¹ÙˆØª Ø´Ø¯Ù‡: <span id="refCount">0</span></p>
            <p>Ú©Ø³Ø¨ Ø´Ø¯Ù‡: <span id="refEarnings">0.000000 TON</span></p>
        </div>
    </div>

    <!-- ØµÙØ­Ù‡ Tasks -->
    <div id="page-tasks" class="page hidden">
        <div class="glass-card">
            <h2>ÙˆØ¸Ø§ÛŒÙ</h2>
            <p>Ø§Ù†Ø¬Ø§Ù… ÙˆØ¸Ø§ÛŒÙ Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨ Ù¾Ø§Ø¯Ø§Ø´</p>
        </div>
    </div>

</div>

<!-- Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ† -->
<div class="nav">
    <button data-page="page-home" class="active">Ø®Ø§Ù†Ù‡</button>
    <button data-page="page-wallet">Ú©ÛŒÙ Ù¾ÙˆÙ„</button>
    <button data-page="page-friends">Ø±ÙØ±Ø§Ù„</button>
    <button data-page="page-tasks">ÙˆØ¸Ø§ÛŒÙ</button>
</div>

<script>
Telegram.WebApp.ready();

// Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² LocalStorage
let balance = parseFloat(localStorage.getItem("ton_balance")) || 0;
let refCount = parseInt(localStorage.getItem("ton_ref")) || 0;
let refEarnings = parseFloat(localStorage.getItem("ton_ref_earn")) || 0;

const balanceEl = document.getElementById("balance");
const walletEl = document.getElementById("walletBalance");
const refCountEl = document.getElementById("refCount");
const refEarningsEl = document.getElementById("refEarnings");

function updateUI(){
    balanceEl.innerText = balance.toFixed(6) + " TON";
    walletEl.innerText = balance.toFixed(6) + " TON";
    refCountEl.innerText = refCount;
    refEarningsEl.innerText = refEarnings.toFixed(6) + " TON";
}

// Mine
document.getElementById("mineBtn").addEventListener("click", ()=>{
    balance += 0.0001;
    localStorage.setItem("ton_balance", balance);
    updateUI();
    Telegram.WebApp.HapticFeedback.impactOccurred("light");
});

// Ø¬Ø§Ø¨Ø¬Ø§ÛŒÛŒ ØµÙØ­Ø§Øª
const pages = document.querySelectorAll(".page");
const navBtns = document.querySelectorAll(".nav button");

navBtns.forEach(btn=>{
    btn.addEventListener("click", ()=>{
        pages.forEach(p=>p.classList.add("hidden"));
        document.getElementById(btn.dataset.page).classList.remove("hidden");
        navBtns.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
    });
});

updateUI();
</script>

</body>
</html>

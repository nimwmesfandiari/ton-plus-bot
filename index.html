<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ton Plus</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Chivo+Mono:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:'Inter',sans-serif;
      background: radial-gradient(circle at 10% 20%, rgba(0,188,212,0.08) 0%, transparent 40%),
                  radial-gradient(circle at 90% 80%, rgba(255,215,0,0.05) 0%, transparent 40%);
      background-color:#050505;
      color:white;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      min-height:100vh;
      padding:20px;
    }
    .card{
      background:rgba(20,20,25,0.7);
      backdrop-filter:blur(12px);
      border-radius:20px;
      padding:20px;
      width:100%;
      max-width:360px;
      margin-bottom:20px;
      box-shadow:0 4px 20px rgba(0,0,0,0.4);
      border:1px solid rgba(255,255,255,0.08);
      text-align:center;
    }
    h1{color:#00bcd4;margin-bottom:10px;}
    .balance{font-family:'Chivo Mono', monospace;font-size:32px;margin:10px 0;transition: transform 0.15s;}
    .balance.bump{transform:scale(1.1);}
    button{
      width:100%;
      padding:14px;
      border-radius:14px;
      font-size:18px;
      font-weight:700;
      border:none;
      cursor:pointer;
      margin-top:12px;
      transition: transform 0.1s;
    }
    button:active{transform:scale(0.96);}
    .mine-btn{background:linear-gradient(90deg,#00bcd4,#00e5ff);color:#000;}
    .boost-btn{background:linear-gradient(90deg,#ffd700,#ffb700);color:#000;}
    .referral-btn{background:linear-gradient(90deg,#8e44ad,#c0392b);color:#fff;}
    .info{margin-top:10px;font-size:12px;color:#aaa;}
    .spinner-container{
      position:relative;
      width:120px;height:120px;margin:15px auto;
    }
    .spinner-glow{
      position:absolute;width:100%;height:100%;border-radius:50%;
      background:radial-gradient(circle,#00bcd4 0%,transparent 70%);
      animation:breathe 3s infinite ease-in-out;
    }
    .spinner-glow.yellow{background:radial-gradient(circle,#ffd700 0%,transparent 70%);}
    .spinner-img{
      position:absolute;top:0;left:0;width:100%;height:100%;
      object-fit:contain;
      animation:spin 6s linear infinite;
    }
    @keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    @keyframes breathe{0%,100%{transform:scale(0.9);opacity:0.5;}50%{transform:scale(1.1);opacity:1;}}
    canvas{margin-top:20px;border-radius:20px;background:rgba(0,0,0,0.6);}
  </style>
</head>
<body>
  <h1>üöÄ Ton Plus</h1>

  <div class="card">
    <div class="balance-label">Balance</div>
    <div id="balance" class="balance">0.000000 TON</div>

    <div class="spinner-container">
      <div class="spinner-glow"></div>
      <div class="spinner-glow yellow"></div>
      <img class="spinner-img" src="https://cdn-icons-png.flaticon.com/512/270/270798.png">
    </div>

    <button class="mine-btn" onclick="mine()">‚õè Tap to Mine</button>
    <button class="boost-btn" onclick="boost()">‚ö° Boost Mining</button>
    <button class="referral-btn" onclick="invite()">üë• Invite Friend</button>

    <div class="info">
      Mining power: <span id="power">2.0</span> GH/s<br>
      Cooldown: <span id="cooldown">0</span> sec
    </div>
  </div>

  <div class="card">
    <canvas id="chart" width="320" height="150"></canvas>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    if(window.Telegram && Telegram.WebApp) Telegram.WebApp.ready();
    document.addEventListener("keydown", e => { if(e.key==="Enter"||e.key==="e") e.preventDefault(); });

    let balance=parseFloat(localStorage.getItem("ton_balance"))||0;
    let power=parseFloat(localStorage.getItem("ton_power"))||2.0;
    let cooldown=0;
    const balanceEl=document.getElementById("balance");
    const powerEl=document.getElementById("power");
    const cooldownEl=document.getElementById("cooldown");

    function updateUI(){
      balanceEl.innerText=balance.toFixed(6)+" TON";
      powerEl.innerText=power.toFixed(1);
      cooldownEl.innerText=cooldown;
    }
    function animateBalance(){
      balanceEl.classList.add("bump");
      setTimeout(()=>balanceEl.classList.remove("bump"),150);
    }

    function mine(){
      if(cooldown>0) return;
      balance+=0.0001*power;
      localStorage.setItem("ton_balance",balance.toFixed(6));
      animateBalance();
      updateUI();
      if(window.Telegram && Telegram.WebApp && Telegram.WebApp.HapticFeedback)
        Telegram.WebApp.HapticFeedback.impactOccurred("light");
      cooldown=1;
      updateUI();
      const interval=setInterval(()=>{
        cooldown-=1;
        if(cooldown<=0){cooldown=0;clearInterval(interval);}
        updateUI();
      },1000);
      addChartData(balance);
    }

    function boost(){power+=1.0;localStorage.setItem("ton_power",power.toFixed(1));updateUI();alert("Boost activated! +1 GH/s");}
    function invite(){power+=0.5;localStorage.setItem("ton_power",power.toFixed(1));updateUI();alert("Referral bonus! +0.5 GH/s");}

    // ŸÜŸÖŸàÿØÿßÿ± Ÿæ€åÿ¥ÿ±ŸÅÿ™ ÿßÿ≥ÿ™ÿÆÿ±ÿßÿ¨
    const ctx=document.getElementById("chart").getContext("2d");
    const data={labels:[],datasets:[{label:"Balance (TON)",data:[],borderColor:"#00e5ff",backgroundColor:"rgba(0,188,212,0.2)",fill:true,tension:0.3}]};
    const config={type:"line",data:data,options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{display:false},y:{beginAtZero:true}}}};
    const chart=new Chart(ctx,config);
    function addChartData(value){
      const time=new Date().toLocaleTimeString();
      data.labels.push(time);
      data.datasets[0].data.push(value.toFixed(6));
      if(data.labels.length>20){data.labels.shift();data.datasets[0].data.shift();}
      chart.update();
    }

    updateUI();
  </script>
</body>
</html>


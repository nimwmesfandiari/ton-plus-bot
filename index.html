<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ton Plus - Mining Dashboard</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Chivo+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-color: #0a0a0a;
    --card-bg: rgba(20,20,25,0.7);
    --card-border: rgba(255,255,255,0.08);
    --primary: #00bcd4;
    --accent: #ffd700;
    --text-main: #fff;
    --text-muted: #aaa;
  }
  * { box-sizing: border-box; margin:0; padding:0; font-family:'Inter', sans-serif; }
  body { background: var(--bg-color); color: var(--text-main); min-height:100vh; display:flex; flex-direction:column; }
  .container { max-width: 420px; margin:auto; padding:20px; flex:1; }
  .glass-card { background: var(--card-bg); border:1px solid var(--card-border); border-radius:16px; backdrop-filter: blur(12px); padding:20px; margin-bottom:20px; }
  h1 { color: var(--primary); margin-bottom:10px; text-align:center; }
  #balance { font-size:2em; text-align:center; margin:10px 0; font-family:'Chivo Mono', monospace; }
  button { width:100%; padding:15px; font-size:18px; border:none; border-radius:12px; background: var(--primary); color:#000; cursor:pointer; margin-top:10px; transition: transform 0.1s; }
  button:active { transform: scale(0.95); }
  .nav { display:flex; justify-content:space-around; background: rgba(20,20,25,0.9); padding:10px; position:fixed; bottom:0; width:100%; max-width:420px; left:50%; transform:translateX(-50%); border-radius:20px; backdrop-filter:blur(12px); }
  .nav button { flex:1; margin:0 5px; background: rgba(0,0,0,0.2); color:#fff; font-weight:600; border-radius:12px; }
  .nav button.active { background: var(--primary); color:#000; }
  .page { display:none; }
  .page.active { display:block; }
</style>
</head>
<body>

<div class="container">

  <!-- Home Page -->
  <div id="page-home" class="page active">
    <h1>üöÄ Ton Plus</h1>
    <div class="glass-card">
      <p>Balance</p>
      <h2 id="balance">0.000000 TON</h2>
      <button id="mine-btn">‚õè Mine</button>
      <p style="margin-top:10px; text-align:center; color:#888;">Mining Power: 2.0 GH/s</p>
    </div>
  </div>

  <!-- Wallet Page -->
  <div id="page-wallet" class="page">
    <h1>Wallet</h1>
    <div class="glass-card">
      <p>Total Asset</p>
      <h2 id="wallet-balance">0.000000 TON</h2>
    </div>
  </div>

  <!-- Friends Page -->
  <div id="page-friends" class="page">
    <h1>Friends</h1>
    <div class="glass-card">
      <p>Total Invites: <span id="total-invites">0</span></p>
      <p>Total Earned: <span id="total-earned">0.000000</span> TON</p>
    </div>
  </div>

  <!-- Tasks Page -->
  <div id="page-tasks" class="page">
    <h1>Tasks</h1>
    <div class="glass-card">
      <p>Complete tasks & earn TON</p>
      <p>Next Reward: <span id="next-reward">0.050000</span> TON</p>
    </div>
  </div>

</div>

<!-- Bottom Navigation -->
<div class="nav">
  <button data-page="page-home" class="active">Home</button>
  <button data-page="page-wallet">Wallet</button>
  <button data-page="page-friends">Friends</button>
  <button data-page="page-tasks">Tasks</button>
</div>

<script>
  // Telegram WebApp Ready
  Telegram.WebApp.ready();

  // Balance logic
  let balance = parseFloat(localStorage.getItem('ton_balance')) || 0;
  let walletBalance = balance;
  let invites = parseInt(localStorage.getItem('ton_invites')) || 0;
  let earned = parseFloat(localStorage.getItem('ton_earned')) || 0;

  const balanceEl = document.getElementById('balance');
  const walletEl = document.getElementById('wallet-balance');
  const invitesEl = document.getElementById('total-invites');
  const earnedEl = document.getElementById('total-earned');

  function updateUI() {
    balanceEl.innerText = balance.toFixed(6) + ' TON';
    walletEl.innerText = walletBalance.toFixed(6) + ' TON';
    invitesEl.innerText = invites;
    earnedEl.innerText = earned.toFixed(6);
  }

  document.getElementById('mine-btn').addEventListener('click', () => {
    balance += 0.0001;
    walletBalance += 0.0001;
    earned += 0.0001;
    localStorage.setItem('ton_balance', balance);
    localStorage.setItem('ton_earned', earned);
    updateUI();
    Telegram.WebApp.HapticFeedback.impactOccurred("light");
  });

  updateUI();

  // SPA Navigation
  const navButtons = document.querySelectorAll('.nav button');
  navButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(btn.dataset.page).classList.add('active');
      navButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    });
  });
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ton Plus | Mining Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Chivo+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Chivo Mono', monospace;
    background: linear-gradient(160deg, #050505 0%, #0a0a0a 100%);
    color: #fff;
    margin: 0;
    overflow-x: hidden;
}
header {
    display: flex;
    justify-content: space-between;
    padding: 16px;
    backdrop-filter: blur(12px);
    background: rgba(20,20,25,0.6);
    border-bottom: 1px solid rgba(255,255,255,0.08);
}
.glass-card {
    background: rgba(20,20,25,0.6);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px;
    padding: 16px;
    margin: 12px;
}
button {
    cursor: pointer;
    font-weight: bold;
    border-radius: 12px;
    padding: 12px 20px;
    border: none;
    transition: transform 0.1s;
}
button:active { transform: scale(0.95); }
.btn-mine { background: #00bcd4; color: #000; }
.btn-boost { background: #ffd700; color: #000; }
.floating-nav {
    position: fixed;
    bottom: 12px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 12px;
    background: rgba(20,20,25,0.8);
    padding: 8px 16px;
    border-radius: 24px;
    backdrop-filter: blur(12px);
}
.nav-item { color: #888; font-size: 14px; text-align: center; }
.nav-item.active { color: #00bcd4; font-weight: bold; }
.page-section { display: none; padding-bottom: 60px; }
.page-section.active { display: block; }
.balance-card {
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    margin-top: 24px;
    color: #00bcd4;
}
</style>
</head>
<body>

<header>
    <div>Ton Plus</div>
    <div id="connect-button">üîå</div>
</header>

<main id="main-content">
    <section id="page-home" class="page-section active">
        <div class="glass-card balance-card">
            <span id="balance">0.000000 TON</span>
        </div>
        <div class="flex justify-center gap-4 mt-6">
            <button class="btn-mine" onclick="mine()">‚õè Mine</button>
            <button class="btn-boost" onclick="boost()">‚ö° Boost</button>
        </div>
    </section>

    <section id="page-wallet" class="page-section">
        <div class="glass-card">
            <h2>Ton Wallet</h2>
            <p>Balance: <span id="wallet-balance">0.000000 TON</span></p>
        </div>
    </section>

    <section id="page-friends" class="page-section">
        <div class="glass-card">
            <h2>Friends & Referrals</h2>
            <p>Total Earned: 0 TON</p>
        </div>
    </section>
</main>

<nav class="floating-nav">
    <div class="nav-item active" data-page="page-home" onclick="switchPage(this)">üè†</div>
    <div class="nav-item" data-page="page-wallet" onclick="switchPage(this)">üí∞</div>
    <div class="nav-item" data-page="page-friends" onclick="switchPage(this)">üë•</div>
</nav>

<script>
Telegram.WebApp.ready();

// Load balance from localStorage
let balance = parseFloat(localStorage.getItem('ton_balance') || '0');
updateBalance();

function updateBalance() {
    document.getElementById('balance').innerText = balance.toFixed(6) + ' TON';
    document.getElementById('wallet-balance').innerText = balance.toFixed(6) + ' TON';
}

// Mine function
function mine() {
    balance += 0.0001;
    localStorage.setItem('ton_balance', balance);
    updateBalance();
    Telegram.WebApp.HapticFeedback.impactOccurred("light");
}

// Boost function
function boost() {
    balance += 0.001;
    localStorage.setItem('ton_balance', balance);
    updateBalance();
    confetti({ particleCount: 50, spread: 70, origin: { y: 0.6 } });
}

// SPA page switch
function switchPage(el) {
    document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById(el.dataset.page).classList.add('active');
    el.classList.add('active');
}
</script>

</body>
</html>
